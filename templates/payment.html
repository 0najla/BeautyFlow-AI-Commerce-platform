<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Payment - BeautyFlow</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/B.png') }}" />

</head>

<body>
  <header>
    <header class="site-header">
      <div class="logo"></div>
      <nav class="site-nav">
        <a href="{{ url_for('home_index') }}">Home</a>
        <a href="{{ url_for('about_page') }}">About</a>
        <a href="{{ url_for('help_page') }}">Help</a>
        <a href="{{ url_for('account_page') }}">Account</a>
      </nav>
    </header>
  </header>


  <h1 class="page-title">Payment</h1>
  </header>

  <main class="container">
    <!-- LEFT: Payment Methods -->
    <section class="left-col">
      <!-- Card Method -->
      <div class="card payment-card">
        <div class="card-head">
          <label class="radio">
            <input type="radio" name="payMethod" value="card" checked>
            <span>Credit / Debit Card</span>
          </label>
          <div class="brands">
            <span class="visa">VISA</span>
            <span class="mc">MasterCard</span>
          </div>
        </div>

        <div class="field">
          <label>CARD NUMBER</label>
          <input id="cardNumber" type="text" placeholder="XXXX XXXX XXXX XXXX" maxlength="19">
        </div>

        <div class="field">
          <label>NAME ON CARD</label>
          <input id="cardName" type="text" placeholder="Name">
        </div>

        <div class="row-2">
          <div class="field">
            <label>EXPIRY DATE</label>
            <div class="expiry">
              <input id="expMM" type="text" placeholder="MM" maxlength="2">
              <span>/</span>
              <input id="expYY" type="text" placeholder="YY" maxlength="2">
            </div>
          </div>
          <div class="field">
            <label>CVV <span class="helpdot" title="3 digits on back of card">â“˜</span></label>
            <input id="cvv" type="password" placeholder="123" maxlength="4">
          </div>
        </div>
      </div>

      <!-- PayPal -->
      <label class="card alt-method">
        <div class="row-between">
          <div class="left">
            <input type="radio" name="payMethod" value="paypal">
            <span>PayPal</span>
          </div>
          <div class="brand-badge" aria-label="PayPal">
            <svg viewBox="0 0 120 36" class="svg-badge" role="img">
              <rect x="0" y="0" width="120" height="36" rx="8" fill="#ffffff" />
              <text x="18" y="24" font-family="Poppins, Arial" font-size="16" font-weight="700"
                fill="#003087">Pay</text>
              <text x="58" y="24" font-family="Poppins, Arial" font-size="16" font-weight="700"
                fill="#009CDE">Pal</text>
            </svg>
          </div>
        </div>
      </label>

      <!-- Apple Pay -->
      <label class="card alt-method">
        <div class="row-between">
          <div class="left">
            <input type="radio" name="payMethod" value="apple">
            <span>Apple Pay</span>
          </div>
          <div class="brand-badge" aria-label="Apple Pay">
            <svg viewBox="0 0 110 36" class="svg-badge" role="img">
              <rect x="0" y="0" width="110" height="36" rx="8" fill="#ffffff" />
              <!-- Simple Apple glyph -->
              <path
                d="M22.5 12c1.5-1 2.6-2.6 2.8-4.4-1.7.1-3.5 1-4.6 2.3-1 1.2-1.9 3-1.7 4.8 1.8.1 3.6-1 3.5-2.7zM28.5 22.4c-.6 1.4-1.3 2.7-2.3 3.9-1.1 1.3-2.4 2.9-4.2 2.9-1.8 0-2.4-.9-4.4-.9-2 0-2.7.9-4.4.9-1.8 0-3.1-1.5-4.2-2.9C7.7 25 6.4 22.6 6.4 19.9c0-3.5 2.3-5.3 4.5-5.3 1.7 0 3.1 1 4.2 1 1.1 0 2.8-1.2 4.9-1 .8 0 3 .3 4.4 2.3-3.8 2.1-3.2 7.2-.3 8.5 1 .4 2 .6 2 .6-.1.1-.1.2-.1.4z"
                fill="#111" />
              <text x="46" y="24" font-family="Poppins, Arial" font-size="16" font-weight="700" fill="#111">Pay</text>
            </svg>
          </div>
        </div>
      </label>

      <!-- Help/Delivery/Returns -->
      <div class="info-row">
        <button class="pill" data-target="#helpPanel">
          <span class="ico">ğŸ“</span> Help <span class="chev">â–¾</span>
        </button>
        <button class="pill" data-target="#deliveryPanel">
          <span class="ico">ğŸšš</span> Delivery <span class="chev">â–¾</span>
        </button>
        <button class="pill" data-target="#returnsPanel">
          <span class="ico">ğŸ“¦</span> Returns <span class="chev">â–¾</span>
        </button>
      </div>

      <div id="helpPanel" class="panel">
        For assistance, contact us at support@beautyflow.com
      </div>
      <div id="deliveryPanel" class="panel">
        Standard delivery 2â€“5 days. Express option available at checkout.
      </div>
      <div id="returnsPanel" class="panel">
        Returns accepted within 14 days in original packaging.
      </div>
    </section>

    <!-- RIGHT: Summary -->
    <aside class="right-col">
      <div class="card summary">
        <h3>Order Summary</h3>
        <div class="product">
          <img
            src="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='80' height='80'><rect rx='16' width='80' height='80' fill='%23f2b1c6'/><text x='12' y='48' font-size='16' font-family='Poppins' fill='white'>Blush</text></svg>"
            alt="Blush">
          <div class="desc">
            <div class="name">Blush</div>
            <div class="color">Color: <b>Pink</b></div>
          </div>
        </div>

        <div class="line"><span>Subtotal:</span><b id="subtotal">7000</b></div>
        <div class="line"><span>Delivery fee:</span><b id="delivery">250</b></div>
        <div class="total"><span>Total to pay:</span><b id="grand">7250</b></div>
      </div>
      <br>
      <br>

      <a id="confirm" class="confirm" href="{{ url_for('sspay_page') }}">Confirm Payment</a>
      <br>
      <br>
      <br>
      <a id="backBtn" class="back" href="{{ url_for('invoice_page') }}"> Back</a>
    </aside>
  </main>
  <style>
    :root {
      --bg: #fff9fb;
      --wave1: #f4c9d7;
      --wave2: #f7d9e3;
      --text: #3b3b3b;
      --muted: #8c8c8c;
      --primary: #cf6385;
      --primary-600: #b45674;
      --border: #e8d9df;
      --card: #fbf3f5;
      --card-deep: #fff;
      --shadow: 0 10px 18px rgba(0, 0, 0, .06);
      --radius: 14px;
    }

    body {
      margin: 0;
      font-family: "Poppins", system-ui, Arial;
      color: var(--text);
      background: var(--bg);
    }

    .wave-header {
      position: relative;
      padding: 16px 28px 56px;
      background: linear-gradient(180deg, var(--wave1), var(--wave2));
      overflow: hidden;
    }

    .wave-header::after {
      content: "";
      position: absolute;
      inset: 0;
      height: 110%;
      background:
        radial-gradient(900px 220px at 70% 0, rgba(255, 255, 255, .7), transparent 60%);
      pointer-events: none;
    }

    .page-title {
      display: flex;
      justify-content: center;
      /* ÙŠÙˆØ³Ù‘Ø· Ø§Ù„ÙƒÙ„Ø§Ù… Ø£ÙÙ‚ÙŠÙ‹Ø§ */
      align-items: center;
      /* ÙŠÙˆØ³Ù‘Ø· Ø§Ù„ÙƒÙ„Ø§Ù… Ø¹Ù…ÙˆØ¯ÙŠÙ‹Ø§ */
      margin: 36px 0;
      /* Ø®ÙÙØª Ø§Ù„Ù‡Ø§Ù…Ø´ Ø§Ù„Ø¬Ø§Ù†Ø¨ÙŠ Ù„Ø£Ù†Ù‡ Ù…Ùˆ Ø¶Ø±ÙˆØ±ÙŠ */
      font-size: 36px;
      font-weight: 700;
      text-align: center;
      /* Ù„Ùˆ ÙÙŠÙ‡ Ø£ÙƒØ«Ø± Ù…Ù† Ø³Ø·Ø± ÙŠØªÙˆØ³Ù‘Ø· Ø¨Ø±Ø¶Ùˆ */
    }


    .nav {
      position: absolute;
      top: 10px;
      right: 24px
    }

    .nav ul {
      list-style: none;
      margin: 0;
      padding: 0;
      display: flex;
      gap: 30px
    }

    .nav a {
      color: #684b52;
      text-decoration: none;
      font-weight: 600
    }

    .nav a:hover {
      opacity: .8
    }

    .container {
      max-width: 1100px;
      margin: 28px auto 60px;
      padding: 0 16px;
      display: grid;
      grid-template-columns: 1.4fr .9fr;
      gap: 26px;
    }

    /* Cards */
    .card {
      background: var(--card-deep);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 16px;
    }

    .payment-card {
      padding: 18px
    }

    .card-head {
      display: flex;
      align-items: center;
      justify-content: space-between;
      margin-bottom: 10px
    }

    .radio {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 600
    }

    .radio input {
      accent-color: var(--primary)
    }

    .brands {
      display: flex;
      align-items: center;
      gap: 12px;
      opacity: .9
    }

    .brands .visa,
    .brands .mc {
      padding: 6px 10px;
      border: 1px solid #e2bebe;
      border-radius: 6px;
      font-weight: 800;
      letter-spacing: 1px
    }

    .brands .mc {
      font-weight: 700
    }

    .field {
      display: flex;
      flex-direction: column;
      gap: 6px;
      margin-top: 12px
    }

    .field label {
      font-size: 12px;
      color: var(--muted)
    }

    .field input {
      padding: 12px;
      border: 1px solid var(--border);
      border-radius: 10px;
      background: #fcfafb
    }

    .row-2 {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px
    }

    .expiry {
      display: flex;
      align-items: center;
      gap: 8px
    }

    .helpdot {
      font-size: 12px;
      color: #666;
      margin-inline-start: 6px
    }

    /* Alt methods */
    .alt-method {
      margin-top: 14px;
      background: #f4c7c7
    }

    .row-between {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px
    }

    .alt-method .left {
      display: flex;
      align-items: center;
      gap: 10px;
      font-weight: 600
    }

    .brand-badge {
      display: flex;
      align-items: center;
      justify-content: center
    }

    .svg-badge {
      height: 28px;
      width: auto;
      display: block
    }

    .alt-method .left span {
      white-space: nowrap
    }

    /* Pills & panels */
    .info-row {
      display: flex;
      gap: 12px;
      margin-top: 14px
    }

    .pill {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 8px;
      background: #ffa9d0;
      border: 1px solid var(--border);
      border-radius: 10px;
      padding: 10px 12px;
      cursor: pointer
    }

    .pill .ico {
      opacity: .9
    }

    .panel {
      display: none;
      margin-top: 10px;
      background: #fff;
      border: 1px dashed var(--border);
      padding: 10px;
      border-radius: 10px;
      color: #6b6b6b
    }

    /* Summary */
    .summary h3 {
      margin: 4px 0 12px;
      font-size: 18px;
      text-align: center
    }

    .summary .product {
      display: flex;
      gap: 12px;
      align-items: center;
      margin-bottom: 10px
    }

    .summary .product img {
      width: 80px;
      height: 80px;
      border-radius: 10px;
      border: 1px solid var(--border)
    }

    .summary .desc .name {
      font-weight: 700
    }

    .summary .desc .color {
      color: var(--muted);
      font-size: 13px;
      margin-top: 3px
    }

    .summary .line,
    .summary .total {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 6px 2px
    }

    .summary .total {
      border-top: 1px solid var(--border);
      margin-top: 6px;
      font-weight: 700
    }

    .confirm {
      width: 100%;
      margin-top: 16px;
      padding: 14px 16px;
      border-radius: 12px;
      border: 0;
      background: var(--primary);
      color: #ffffff;
      font-weight: 700;
      font-size: 16px;
      cursor: pointer;
      box-shadow: var(--shadow)
    }

    .confirm:hover {
      background: var(--primary-600)
    }

    .back {
      width: 100%;
      margin-top: 10px;
      padding: 12px 16px;
      border-radius: 12px;
      border: 1px solid var(--border);
      background: #f9aec8;
      cursor: pointer
    }

    /* Responsive */
    @media (max-width: 980px) {
      .container {
        grid-template-columns: 1fr
      }
    }

    /* FIX: make label.card full-width blocks so brand badges don't float out */
    .card {
      display: block;
      width: 100%
    }

    .alt-method {
      display: block;
      width: 100%;
      overflow: hidden
    }

    .row-between {
      width: 100%
    }

    .brand-badge {
      margin-inline-start: auto
    }

    /* keep on the far right inside the row */

    /* --- STRICT FIX FOR ALT METHODS LAYOUT --- */
    .left-col {
      min-width: 0
    }

    .alt-method {
      display: block;
      width: 100%;
      overflow: hidden;
      padding: 12px 14px;
      border-radius: 14px;
      border: 1px solid var(--border);
      box-shadow: var(--shadow);
      background: #fff
    }

    .alt-method .row-between {
      display: grid;
      grid-template-columns: 1fr auto;
      align-items: center;
      width: 100%
    }

    .alt-method .left {
      min-width: 0
    }

    .brand-badge {
      display: flex;
      align-items: center;
      justify-content: center;
      max-width: 140px
    }

    .svg-badge {
      height: 28px;
      width: auto;
      display: block
    }
  </style>

  <script>
    // tiny helpers
    const $ = s => document.querySelector(s);
    const $$ = s => [...document.querySelectorAll(s)];

    // total calculation (example values)
    function recalc() {
      const sub = parseFloat($('#subtotal').textContent || '0');
      const del = parseFloat($('#delivery').textContent || '0');
      const grand = sub + del;
      $('#grand').textContent = grand.toString();
    }
    recalc();

    // toggle info panels
    $$('.pill').forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.getAttribute('data-target');
        const panel = document.querySelector(id);
        if (!panel) return;
        const visible = panel.style.display === 'block';
        document.querySelectorAll('.panel').forEach(p => p.style.display = 'none');
        panel.style.display = visible ? 'none' : 'block';
      });
    });

    // show/hide card fields when switching method
    $$('input[name=payMethod]').forEach(r => {
      r.addEventListener('change', () => {
        const cardEnabled = $('input[value=card]').checked;
        document.querySelectorAll('.payment-card .field, .payment-card .row-2')
          .forEach(el => el.style.display = cardEnabled ? '' : 'none');
      });
    });



  </script>