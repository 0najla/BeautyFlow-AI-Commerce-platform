<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>BeautyFlow ‚Äî Cost-Sharing Shipping</title>

  <!-- Fonts & Styles -->

  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="{{ url_for('static', filename='images/B.png') }}" />

</head>

<body class="index-page">
  <!-- Header -->
  <header class="site-header">
    <div class="logo"></div>
    <nav class="site-nav">
      <a href="{{ url_for('home_index') }}">Home</a>
      <a href="{{ url_for('about_page') }}">About</a>
      <a href="{{ url_for('help_page') }}">Help</a>
      <a href="{{ url_for('account_page') }}">Account</a>
    </nav>
  </header>

  <main class="container page">
    <h1 class="page-title">Cost-Sharing Shipping</h1>

    <section class="grid">
      <!-- Join card -->
      <div class="card">
        <h3 class="card-title">Join Shared Shipping</h3>

        <div class="avatars">
          <img src="https://i.pravatar.cc/40?img=1" alt="avatar">
          <img src="https://i.pravatar.cc/40?img=2" alt="avatar">
          <div class="avatar placeholder">+1</div>
        </div>

        <div class="progress-wrap">
          <div class="progress-bar">
            <div class="progress" id="progress" style="width:100%"></div>
          </div>
          <div class="progress-text" id="progressText">100% ‚Äî ready to ship üéâ</div>
        </div>

        <div class="card-actions three">
          <!-- NEW: keep them side-by-side and matched -->
          <a class="btn outline" id="leaveBtn" href="{{ url_for('invoice_page') }}">Leave Group</a>
          <a class="btn primary" id="requestBtn" href="{{ url_for('invoiceShared_page') }}">Request Merge</a>
          <a class="btn soft" id="findNewMergeBtn" href="{{ url_for('costSharing_page') }}">Find New Merge</a>
        </div>
      </div>

      <!-- Estimated cost -->
      <div class="card">
        <h3 class="card-title">Estimated Cost</h3>
        <ul class="estimates">
          <li><span>Solo shipping</span> <strong id="soloCost">‚Äî</strong></li>
          <li><span>Shared shipping</span><strong id="sharedCost">‚Äî</strong></li>
          <li class="save"><span>You save</span><strong id="youSave">‚Äî</strong></li>
        </ul>

        <label for="weightInput" class="label">Package weight (kg)</label>
        <!-- EN weight with decimals -->
        <input id="weightInput" class="input" type="number" step="0.1" min="0.1" value="50" placeholder="e.g., 75.5">
      </div>

      <!-- AI tip -->
      <div class="card tip">
        <h3 class="card-title">AI Suggestion</h3>
        <p id="aiTip">Let our AI optimize your shipment üí°</p>
      </div>
    </section>
  </main>
  <style>
    :root {
      --rose-50: #fff5f7;
      --rose-100: #ffe5ea;
      --rose-200: #ffd0da;
      --rose-300: #ffb5c6;
      --rose-400: #ff97af;
      --rose-500: #f17494;
      --rose-600: #e25b7f;
      --rose-700: #c2476a;
      --ink-700: #3b3b4f;
      --ink-500: #606071;
      --radius: 18px;
      --shadow: 0 8px 24px rgba(230, 86, 120, .15);
    }

    * {
      box-sizing: border-box;
      font-family: "Poppins", sans-serif;
    }

    body {
      margin: 0;
      background: #fffdfd;
      color: var(--ink-700)
    }

    .container {
      width: min(1100px, 90%);
      margin-inline: auto
    }

    /* header */
    .topbar {
      background: linear-gradient(135deg, var(--rose-100), var(--rose-300))
    }

    .nav {
      padding: 10px 0
    }

    .nav-links {
      list-style: none;
      display: flex;
      gap: 18px;
      justify-content: flex-end;
      margin: 0
    }

    .nav-links a {
      text-decoration: none;
      color: #7a2942;
      font-weight: 600;
      opacity: .9
    }

    .nav-links a.active,
    .nav-links a:hover {
      opacity: 1
    }

    .wave svg {
      width: 100%;
      height: 100px
    }

    .wave path {
      fill: var(--rose-200)
    }

    .page {
      padding: 20px 0 60px
    }

    .page-title {
      text-align: center;
      color: #7a2942;
      font-weight: 800;
      margin-bottom: 25px
    }

    /* layout */
    .grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px
    }

    @media(max-width:900px) {
      .grid {
        grid-template-columns: 1fr
      }
    }

    .card {
      background: #fff;
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      padding: 18px 16px
    }

    .card-title {
      margin: 0 0 10px;
      font-weight: 700;
      color: #7a2942
    }

    .card.tip {
      background: linear-gradient(180deg, var(--rose-50), #fff)
    }

    .avatars {
      display: flex;
      gap: 8px;
      margin-bottom: 10px
    }

    .avatars img,
    .avatar.placeholder {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      object-fit: cover;
      border: 2px solid #fff;
      box-shadow: 0 2px 6px rgba(0, 0, 0, .1)
    }

    .avatar.placeholder {
      display: flex;
      align-items: center;
      justify-content: center;
      background: var(--rose-300);
      color: #fff;
      font-weight: 700
    }

    .progress-bar {
      height: 10px;
      background: var(--rose-100);
      border-radius: 999px;
      overflow: hidden
    }

    .progress {
      height: 100%;
      background: var(--rose-600)
    }

    .progress-text {
      font-size: .9rem;
      color: var(--ink-500);
      margin-top: 6px
    }

    .estimates {
      list-style: none;
      padding: 0;
      margin: 0;
      display: flex;
      flex-direction: column;
      gap: 6px
    }

    .estimates li {
      display: flex;
      justify-content: space-between;
      background: var(--rose-50);
      padding: 8px 10px;
      border-radius: 12px
    }

    .estimates li.save {
      background: var(--rose-100);
      font-weight: 700
    }

    .label {
      font-weight: 600;
      color: var(--ink-500);
      font-size: .9rem;
      margin-top: 12px
    }

    .input {
      width: 100%;
      padding: 10px;
      border: 1px solid var(--rose-300);
      border-radius: 12px
    }

    /* buttons */
    .card-actions {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 12px
    }

    .card-actions.three .btn {
      flex: 1 1 32%
    }

    .btn {
      border: none;
      border-radius: 12px;
      padding: 10px 14px;
      font-weight: 700;
      cursor: pointer;
      transition: .2s;
      box-shadow: var(--shadow);
      text-align: center;
      text-decoration: none;
      display: inline-block
    }

    .btn.primary {
      background: var(--rose-600);
      color: #fff
    }

    .btn.primary:hover {
      transform: translateY(-1px);
      filter: brightness(1.05)
    }

    .btn.outline {
      background: #fff;
      color: var(--rose-700);
      border: 2px solid var(--rose-300)
    }

    /* NEW: soft button for ‚ÄúFind New Merge‚Äù */
    .btn.soft {
      background: var(--rose-100);
      color: #7a2942;
      border: 2px solid var(--rose-200)
    }

    .btn.soft:hover {
      filter: brightness(1.03)
    }

    .block {
      width: 100%
    }

    .footer {
      text-align: center;
      padding: 20px;
      color: #9a9aaa
    }
  </style>

  <script>
    // Elements
    const weightInput = document.getElementById('weightInput');
    const soloCostEl = document.getElementById('soloCost');
    const sharedCostEl = document.getElementById('sharedCost');
    const youSaveEl = document.getElementById('youSave');

    // Update cost numbers (English / SAR)
    // Update cost numbers (English / SAR)
    function updateCost() {
      const w = Math.max(0.1, Number(weightInput.value) || 0.1);
      const solo = 10 * w + 300;  // sample solo model
      const shared = 6 * w + 120; // sample shared model

      soloCostEl.textContent = solo.toLocaleString('en-US') + " SAR";
      sharedCostEl.textContent = shared.toLocaleString('en-US') + " SAR";
      youSaveEl.textContent = (solo - shared).toLocaleString('en-US') + " SAR";
    }
    // run when typing
    weightInput.addEventListener('input', updateCost);
    updateCost();

    // Random AI tip
    const tips = [
      "Merging within 24h can save up to 15%.",
      "Compressing boxes reduces volumetric fees.",
      "Tuesday shipping often has lower rates.",
      "Closest destinations merge faster."
    ];

    const aiTip = document.getElementById('aiTip');
    if (aiTip) {
      aiTip.textContent = tips[Math.floor(Math.random() * tips.length)];
    }

  </script>

</body>

</html>